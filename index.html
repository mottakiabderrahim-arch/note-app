<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>SmartNote Pro Ultimate</title>

<style>

body{
font-family:Arial;
margin:0;
background:#f0f2f5;
}

header{
background:#1976d2;
color:white;
padding:12px;
font-size:20px;
display:flex;
justify-content:space-between;
align-items:center;
}

.container{
padding:15px;
}

button{
padding:8px 12px;
margin:4px;
border:none;
border-radius:6px;
background:#1976d2;
color:white;
cursor:pointer;
}

.note{
background:white;
padding:12px;
margin-top:10px;
border-radius:10px;
box-shadow:0 2px 5px rgba(0,0,0,0.2);
}

.noteTitle{
font-size:18px;
font-weight:bold;
}

.noteDate{
font-size:12px;
color:gray;
}

.editor{
display:none;
}

#editor{
min-height:200px;
border:1px solid #ccc;
border-radius:8px;
padding:10px;
background:white;
}

.toolbar button{
background:#444;
}

.menu{
position:fixed;
top:50px;
right:10px;
background:white;
box-shadow:0 0 10px rgba(0,0,0,0.3);
display:none;
padding:10px;
border-radius:8px;
}

</style>

</head>
<body>

<header>

<span>ğŸ§  SmartNote Pro Ultimate</span>

<button onclick="toggleMenu()">â‹®</button>

</header>


<div class="menu" id="menu">

<button onclick="backup()">ğŸ’¾ Backup</button><br>
<button onclick="restore()">ğŸ“‚ Restore</button><br>
<button onclick="exportPDF()">ğŸ“„ Export PDF</button>

</div>


<div class="container">


<input id="search" placeholder="ğŸ” Ø¨Ø­Ø«" oninput="displayNotes()">



<div id="notesView"></div>



<div class="editor" id="editorView">

<button onclick="back()">â¬… Ø±Ø¬ÙˆØ¹</button>

<input id="title" placeholder="Ø¹Ù†ÙˆØ§Ù†">

<div class="toolbar">

<button onclick="format('bold')"><b>B</b></button>
<button onclick="format('italic')"><i>I</i></button>
<button onclick="format('underline')"><u>U</u></button>

<button onclick="color('red')">ğŸ”´</button>
<button onclick="color('blue')">ğŸ”µ</button>
<button onclick="color('green')">ğŸŸ¢</button>

<button onclick="image()">ğŸ“·</button>
<button onclick="table()">ğŸ“Š</button>

</div>

<div id="editor" contenteditable="true"></div>

<br>

<button onclick="saveNote()">ğŸ’¾ Ø­ÙØ¸</button>

</div>


<button onclick="newNote()">â• Ù…Ù„Ø§Ø­Ø¸Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>


</div>



<script>

let notes=JSON.parse(localStorage.getItem("notes"))||[];

let currentId=null;



function toggleMenu(){

let m=document.getElementById("menu");

m.style.display=m.style.display=="block"?"none":"block";

}



function newNote(){

currentId=null;

document.getElementById("title").value="";

document.getElementById("editor").innerHTML="";

showEditor();

}



function showEditor(){

document.getElementById("notesView").style.display="none";

document.getElementById("editorView").style.display="block";

}



function back(){

document.getElementById("editorView").style.display="none";

document.getElementById("notesView").style.display="block";

displayNotes();

}



function saveNote(){

let title=document.getElementById("title").value;

let content=document.getElementById("editor").innerHTML;

if(!title && !content) return;

if(currentId){

let n=notes.find(x=>x.id==currentId);

n.title=title;
n.content=content;

}else{

notes.push({

id:Date.now(),
title:title,
content:content,
date:new Date().toLocaleString(),
pinned:false

});

}

localStorage.setItem("notes",JSON.stringify(notes));

back();

}



function displayNotes(){

let container=document.getElementById("notesView");

let search=document.getElementById("search").value.toLowerCase();

container.innerHTML="";

notes.sort((a,b)=>b.pinned-a.pinned);

notes.forEach(n=>{

if(n.title.toLowerCase().includes(search) || n.content.toLowerCase().includes(search)){

container.innerHTML+=`

<div class="note">

<div class="noteTitle">${n.title}</div>

<div class="noteDate">${n.date}</div>

<button onclick="viewNote(${n.id})">ğŸ“– ÙØªØ­</button>

<button onclick="editNote(${n.id})">âœï¸ ØªØ¹Ø¯ÙŠÙ„</button>

<button onclick="pin(${n.id})">ğŸ“Œ</button>

<button onclick="deleteNote(${n.id})">ğŸ—‘ï¸</button>

</div>

`;

}

});

}



function viewNote(id){

let n=notes.find(x=>x.id==id);

document.getElementById("title").value=n.title;

document.getElementById("editor").innerHTML=n.content;

showEditor();

}



function editNote(id){

currentId=id;

viewNote(id);

}



function deleteNote(id){

if(confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©ØŸ")){

notes=notes.filter(x=>x.id!=id);

localStorage.setItem("notes",JSON.stringify(notes));

displayNotes();

}

}



function pin(id){

let n=notes.find(x=>x.id==id);

n.pinned=!n.pinned;

localStorage.setItem("notes",JSON.stringify(notes));

displayNotes();

}



function format(cmd){

document.execCommand(cmd,false,null);

}



function color(c){

document.execCommand("foreColor",false,c);

}



function image(){

let input=document.createElement("input");

input.type="file";

input.onchange=function(){

let reader=new FileReader();

reader.onload=function(e){

document.execCommand("insertImage",false,e.target.result);

}

reader.readAsDataURL(this.files[0]);

}

input.click();

}



function table(){

let html="<table border=1 style='width:100%'>";

html+="<tr><td contenteditable=true>Ø®Ø§Ù†Ø©</td><td contenteditable=true>Ø®Ø§Ù†Ø©</td></tr>";

html+="</table>";

document.execCommand("insertHTML",false,html);

}



function backup(){

let data=JSON.stringify(notes);

let blob=new Blob([data]);

let a=document.createElement("a");

a.href=URL.createObjectURL(blob);

a.download="backup.json";

a.click();

}



function restore(){

let input=document.createElement("input");

input.type="file";

input.onchange=function(){

let reader=new FileReader();

reader.onload=function(){

notes=JSON.parse(reader.result);

localStorage.setItem("notes",reader.result);

displayNotes();

}

reader.readAsText(this.files[0]);

}

input.click();

}



function exportPDF(){

let win=window.open();

notes.forEach(n=>{

win.document.write("<h2>"+n.title+"</h2>");

win.document.write("<small>"+n.date+"</small>");

win.document.write(n.content+"<hr>");

});

win.print();

}



displayNotes();

</script>

</body>
</html>
