<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>SmartNote Pro Ultimate</title>

<style>

body{
font-family:Arial;
margin:0;
background:#f0f2f5;
}

.dark{
background:#121212;
color:white;
}

header{
background:#1976d2;
color:white;
padding:12px;
display:flex;
justify-content:space-between;
align-items:center;
}

button{
cursor:pointer;
border:none;
padding:8px 12px;
border-radius:6px;
margin:2px;
}

.primary{
background:#1976d2;
color:white;
}

.secondary{
background:#555;
color:white;
}

.danger{
background:#d32f2f;
color:white;
}

.container{
padding:10px;
}

/* notes list */

.note{
background:white;
padding:12px;
margin:8px 0;
border-radius:10px;
box-shadow:0 2px 6px rgba(0,0,0,0.2);
}

.dark .note{
background:#1e1e1e;
}

.noteTitle{
font-weight:bold;
font-size:18px;
}

.noteDate{
font-size:12px;
opacity:0.6;
}

/* editor */

#editor{
min-height:200px;
border:1px solid #ccc;
padding:10px;
border-radius:10px;
background:white;
}

.dark #editor{
background:#2a2a2a;
color:white;
}

.toolbar button{
background:#444;
color:white;
}

/* screens */

.screen{
display:none;
}

.active{
display:block;
}

/* menu */

.menu{
position:fixed;
top:50px;
right:10px;
background:white;
box-shadow:0 2px 10px rgba(0,0,0,0.3);
border-radius:8px;
display:none;
z-index:999;
}

.menu div{
padding:10px;
cursor:pointer;
}

.menu div:hover{
background:#eee;
}

.dark .menu{
background:#2a2a2a;
}

</style>

</head>
<body>

<header>

<span>ğŸ§  SmartNote Pro Ultimate</span>

<div>

<button onclick="showScreen('list')" class="secondary">ğŸ“‹</button>

<button onclick="newNote()" class="primary">â•</button>

<button onclick="toggleMenu()" class="secondary">â‹®</button>

</div>

</header>

<div class="menu" id="menu">

<div onclick="backup()">ğŸ’¾ Backup</div>

<div onclick="restore()">ğŸ“‚ Restore</div>

<div onclick="deleteAll()">ğŸ—‘ï¸ Delete All</div>

<div onclick="toggleDark()">ğŸŒ™ Dark Mode</div>

</div>

<div class="container">

<!-- LIST SCREEN -->

<div id="listScreen" class="screen active">

<input id="search" placeholder="ğŸ” Ø¨Ø­Ø«" oninput="displayNotes()">

<div id="notes"></div>

</div>

<!-- VIEW SCREEN -->

<div id="viewScreen" class="screen">

<h2 id="viewTitle"></h2>

<div id="viewDate"></div>

<hr>

<div id="viewContent"></div>

<br>

<button onclick="editCurrent()" class="primary">âœï¸ ØªØ¹Ø¯ÙŠÙ„</button>

<button onclick="exportPDF()" class="secondary">ğŸ“„ PDF</button>

<button onclick="showScreen('list')" class="secondary">â¬…ï¸ Ø±Ø¬ÙˆØ¹</button>

</div>

<!-- EDIT SCREEN -->

<div id="editScreen" class="screen">

<input id="title" placeholder="Ø¹Ù†ÙˆØ§Ù†">

<div class="toolbar">

<button onclick="format('bold')"><b>B</b></button>

<button onclick="format('italic')"><i>I</i></button>

<button onclick="format('underline')"><u>U</u></button>

<button onclick="color('red')">ğŸ”´</button>

<button onclick="color('blue')">ğŸ”µ</button>

<button onclick="color('green')">ğŸŸ¢</button>

<button onclick="size(3)">A-</button>

<button onclick="size(5)">A+</button>

<button onclick="insertImage()">ğŸ“·</button>

<button onclick="insertTable()">ğŸ“Š</button>

</div>

<div id="editor" contenteditable="true"></div>

<br>

<button onclick="saveNote()" class="primary">ğŸ’¾ Ø­ÙØ¸</button>

<button onclick="showScreen('list')" class="secondary">â¬…ï¸ Ø±Ø¬ÙˆØ¹</button>

</div>

</div>

<script>

let notes=JSON.parse(localStorage.getItem("smartNotes"))||[];

let currentId=null;

/* screens */

function showScreen(name){

document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));

if(name=="list") listScreen.classList.add("active");

if(name=="view") viewScreen.classList.add("active");

if(name=="edit") editScreen.classList.add("active");

}

/* menu */

function toggleMenu(){

menu.style.display=menu.style.display=="block"?"none":"block";

}

/* editor */

function format(cmd){

document.execCommand(cmd,false,null);

}

function color(c){

document.execCommand("foreColor",false,c);

}

function size(s){

document.execCommand("fontSize",false,s);

}

function insertImage(){

let input=document.createElement("input");

input.type="file";

input.onchange=function(){

let reader=new FileReader();

reader.onload=e=>{

document.execCommand("insertImage",false,e.target.result);

};

reader.readAsDataURL(this.files[0]);

};

input.click();

}

function insertTable(){

let html="<table border=1 style='width:100%'>";

html+="<tr><td>Ø®Ø§Ù†Ø©</td><td>Ø®Ø§Ù†Ø©</td></tr>";

html+="<tr><td>Ø®Ø§Ù†Ø©</td><td>Ø®Ø§Ù†Ø©</td></tr>";

html+="</table>";

document.execCommand("insertHTML",false,html);

}

/* notes */

function newNote(){

currentId=null;

title.value="";

editor.innerHTML="";

showScreen("edit");

}

function saveNote(){

let t=title.value;

let c=editor.innerHTML;

if(!t && !c) return;

if(currentId){

let n=notes.find(x=>x.id==currentId);

n.title=t;

n.content=c;

}else{

notes.push({

id:Date.now(),

title:t,

content:c,

date:new Date().toLocaleString(),

pinned:false

});

}

localStorage.setItem("smartNotes",JSON.stringify(notes));

showScreen("list");

displayNotes();

}

function displayNotes(){

let search=document.getElementById("search").value.toLowerCase();

notes.sort((a,b)=>b.pinned-a.pinned);

notesDiv="";

notes.forEach(n=>{

if(n.title.toLowerCase().includes(search) || n.content.toLowerCase().includes(search)){

notesDiv+=`

<div class="note">

<div class="noteTitle">${n.title}</div>

<div class="noteDate">${n.date}</div>

<button onclick="viewNote(${n.id})">ğŸ“– ÙØªØ­</button>

<button onclick="pin(${n.id})">ğŸ“Œ</button>

<button onclick="editNote(${n.id})">âœï¸</button>

<button onclick="deleteNote(${n.id})">ğŸ—‘ï¸</button>

</div>

`;

}

});

notes.innerHTML=notesDiv;

}

/* view */

function viewNote(id){

let n=notes.find(x=>x.id==id);

currentId=id;

viewTitle.innerHTML=n.title;

viewDate.innerHTML=n.date;

viewContent.innerHTML=n.content;

showScreen("view");

}

function editNote(id){

let n=notes.find(x=>x.id==id);

currentId=id;

title.value=n.title;

editor.innerHTML=n.content;

showScreen("edit");

}

function editCurrent(){

editNote(currentId);

}

/* delete */

function deleteNote(id){

if(confirm("ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø°ÙØŸ")){

notes=notes.filter(x=>x.id!=id);

localStorage.setItem("smartNotes",JSON.stringify(notes));

displayNotes();

showScreen("list");

}

}

function deleteAll(){

if(confirm("Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§ØªØŸ")){

notes=[];

localStorage.removeItem("smartNotes");

displayNotes();

}

}

/* pin */

function pin(id){

let n=notes.find(x=>x.id==id);

n.pinned=!n.pinned;

localStorage.setItem("smartNotes",JSON.stringify(notes));

displayNotes();

}

/* pdf */

function exportPDF(){

let win=window.open();

win.document.write(viewContent.innerHTML);

win.print();

}

/* backup */

function backup(){

let data=JSON.stringify(notes);

let blob=new Blob([data]);

let a=document.createElement("a");

a.href=URL.createObjectURL(blob);

a.download="SmartNoteBackup.json";

a.click();

}

/* restore */

function restore(){

let input=document.createElement("input");

input.type="file";

input.onchange=function(){

let reader=new FileReader();

reader.onload=e=>{

notes=JSON.parse(e.target.result);

localStorage.setItem("smartNotes",JSON.stringify(notes));

displayNotes();

};

reader.readAsText(this.files[0]);

};

input.click();

}

/* dark */

function toggleDark(){

document.body.classList.toggle("dark");

}

displayNotes();

</script>

</body>
</html>
