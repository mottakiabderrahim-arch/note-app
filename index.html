<!DOCTYPE html><html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ù…Ø°ÙƒØ±ØªÙŠ</title><!-- ================== CSS ================== --><style>
:root{
  --bg:#f2f2f2;
  --card:#fff;
  --text:#000;
  --main:#2196f3;
  --noteSize:16px;
}
body.dark{
  --bg:#121212;
  --card:#1e1e1e;
  --text:#fff;
}
body{
  margin:0;
  font-family:sans-serif;
  background:var(--bg);
  color:var(--text);
}
header{
  background:var(--main);
  color:#fff;
  padding:12px;
  text-align:center;
  font-size:18px;
  position:relative;
}
.menu-btn{position:absolute;left:10px;top:8px;font-size:22px;cursor:pointer;}
.menu{
  display:none;
  position:absolute;
  left:10px;
  top:45px;
  background:var(--card);
  box-shadow:0 2px 6px rgba(0,0,0,.3);
  border-radius:6px;
  overflow:hidden;
  z-index:10;
}
.menu div{padding:10px;cursor:pointer;border-bottom:1px solid #ccc;}
.menu div:last-child{border:none}
#container{padding:10px}
input{width:100%;padding:10px;font-size:16px;border-radius:6px;border:1px solid #ccc;margin-top:8px;}
#editor{margin-top:8px;padding:10px;min-height:120px;border-radius:6px;border:1px solid #ccc;background:#fff;outline:none;}
.toolbar button{padding:6px 10px;margin:4px 2px;font-size:14px;}
#tools{display:flex;gap:10px;margin:6px 0;}
.color{width:26px;height:26px;border-radius:50%;cursor:pointer;border:2px solid #ccc;}
.color.active{border:3px solid #000;}
button.save{margin-top:8px;padding:10px;width:100%;font-size:16px;border:none;border-radius:6px;background:#4caf50;color:#fff;}
.note{background:var(--card);margin-top:10px;padding:10px;border-radius:6px;position:relative;font-size:var(--noteSize);}
.note-title{font-weight:bold;font-size:18px;margin-bottom:6px;}
.delete{position:absolute;left:10px;top:10px;cursor:pointer;}
</style></head>
<body><!-- ================== HEADER ================== --><header>
  <span class="menu-btn" onclick="UI.toggleMenu()">â‹®</span>
  ğŸ“’ Ù…Ø°ÙƒØ±ØªÙŠ
  <div class="menu" id="menu">
    <div onclick="Settings.toggleDark()">ğŸŒ™ ÙˆØ¶Ø¹ Ù„ÙŠÙ„ÙŠ</div>
    <div onclick="Settings.setPin()">ğŸ”’ Ø±Ù…Ø² Ø§Ù„Ù‚ÙÙ„</div>
    <div onclick="Settings.changeFont(1)">ğŸ”  ØªÙƒØ¨ÙŠØ± Ø§Ù„Ø®Ø·</div>
    <div onclick="Settings.changeFont(-1)">ğŸ”¡ ØªØµØºÙŠØ± Ø§Ù„Ø®Ø·</div>
    <div onclick="Notes.toggleOrder()">â†•ï¸ ØªØ±ØªÙŠØ¨</div>
    <div onclick="Notes.deleteAll()">ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„ÙƒÙ„</div>
  </div>
</header><!-- ================== UI ================== --><div id="container">
  <input id="search" placeholder="ğŸ” Ø¨Ø­Ø«..." oninput="Notes.show()">
  <input id="title" placeholder="ğŸ“ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©">  <div class="toolbar">
    <button onclick="Editor.cmd('bold')"><b>B</b></button>
    <button onclick="Editor.cmd('italic')"><i>I</i></button>
    <button onclick="Editor.cmd('underline')"><u>U</u></button>
    <button onclick="Camera.open()">ğŸ“·</button>
    <input id="cameraInput" type="file" accept="image/*" capture="environment" hidden>
  </div>  <div id="tools">
    <div class="color" data-color="black" style="background:black"></div>
    <div class="color" data-color="red" style="background:red"></div>
    <div class="color" data-color="blue" style="background:blue"></div>
    <div class="color" data-color="green" style="background:green"></div>
  </div>  <div id="editor" contenteditable="true">Ø§ÙƒØªØ¨ Ù…Ù„Ø§Ø­Ø¸ØªÙƒ Ù‡Ù†Ø§...</div>
  <button class="save" onclick="Notes.save()">ğŸ’¾ Ø­ÙØ¸</button>
  <div id="notes"></div>
</div><!-- ================== JAVASCRIPT ================== --><script>
/********************** STORAGE **********************/
const Storage={
  get:(k,d)=>JSON.parse(localStorage.getItem(k)||JSON.stringify(d)),
  set:(k,v)=>localStorage.setItem(k,JSON.stringify(v))
};

/********************** UI **********************/
const UI={
  menu:document.getElementById('menu'),
  toggleMenu(){this.menu.style.display=this.menu.style.display==='block'?'none':'block';}
};

/********************** SETTINGS **********************/
const Settings={
  fontSize:parseInt(localStorage.getItem('fontSize')||16),
  init(){document.documentElement.style.setProperty('--noteSize',this.fontSize+'px');
    if(localStorage.getItem('dark')==='true') document.body.classList.add('dark');
    let pin=localStorage.getItem('pin');
    if(pin && prompt('ğŸ”’ Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù…Ø²')!==pin) document.body.innerHTML='âŒ Ø±Ù…Ø² Ø®Ø§Ø·Ø¦';
  },
  toggleDark(){document.body.classList.toggle('dark');localStorage.setItem('dark',document.body.classList.contains('dark'));},
  setPin(){let p=prompt('Ø¶Ø¹ Ø±Ù…Ø² Ø§Ù„Ù‚ÙÙ„');if(p){localStorage.setItem('pin',p);alert('ØªÙ… Ø§Ù„ØªÙØ¹ÙŠÙ„ ğŸ”’');}},
  changeFont(v){this.fontSize=Math.max(12,this.fontSize+v);localStorage.setItem('fontSize',this.fontSize);
    document.documentElement.style.setProperty('--noteSize',this.fontSize+'px');}
};

/********************** EDITOR **********************/
const Editor={
  el:document.getElementById('editor'),
  cmd(c){document.execCommand(c,false,null);}
};

/********************** CAMERA **********************/
const Camera={
  input:document.getElementById('cameraInput'),
  open(){this.input.click();},
  init(){this.input.onchange=e=>{
    let f=e.target.files[0]; if(!f) return;
    let r=new FileReader(); r.onload=()=>{
      let img=document.createElement('img'); img.src=r.result; img.style.maxWidth='100%'; Editor.el.appendChild(img);
    }; r.readAsDataURL(f);
  }};

/********************** NOTES **********************/
const Notes={
  list:Storage.get('notes',[]),
  box:document.getElementById('notes'),
  title:document.getElementById('title'),
  search:document.getElementById('search'),
  order:true, edit:-1,

  save(){let t=this.title.value.trim();let h=Editor.el.innerHTML.trim(); if(!t&&!h) return;
    let n={title:t||'Ø¨Ø¯ÙˆÙ† Ø¹Ù†ÙˆØ§Ù†',html:h}; this.edit===-1?this.list.push(n):this.list[this.edit]=n;
    this.edit=-1; Storage.set('notes',this.list); this.title.value=''; Editor.el.innerHTML=''; this.show();},

  show(){this.box.innerHTML=''; let q=this.search.value.toLowerCase(); let arr=[...this.list]; if(this.order) arr.reverse();
    arr.forEach((n,i)=>{ if(!(n.title+n.html).toLowerCase().includes(q)) return;
      let d=document.createElement('div'); d.className='note'; d.innerHTML=`<span class="delete" onclick="Notes.del(${i})">ğŸ—‘ï¸</span><div class="note-title">${n.title}</div><div>${n.html}</div>`;
      d.onclick=()=>{this.title.value=n.title; Editor.el.innerHTML=n.html; this.edit=i; window.scrollTo(0,0);};
      this.box.appendChild(d);
    });},

  del(i){if(confirm('Ø­Ø°Ù Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©ØŸ')){this.list.splice(i,1);Storage.set('notes',this.list);this.show();}},
  deleteAll(){if(confirm('Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§ØªØŸ')){this.list=[];Storage.set('notes',this.list);this.show();}},
  toggleOrder(){this.order=!this.order;this.show();}
};

/********************** INIT **********************/
Settings.init(); Camera.init(); Notes.show();
</script></body>
</html>
