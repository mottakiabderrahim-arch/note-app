<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>ğŸ“’ Ù…ÙÙƒØ±ØªÙŠ Pro Offline</title>

<style>

body{
font-family:Arial;
padding:15px;
background:#f5f5f5;
transition:0.3s;
}

.dark{
background:#1e1e1e;
color:white;
}

input,button{
padding:8px;
margin:5px 0;
}

.note{
background:white;
padding:10px;
margin-top:10px;
border-radius:8px;
}

.dark .note{
background:#333;
}

#noteText{
min-height:120px;
padding:10px;
border:1px solid #ccc;
border-radius:8px;
background:white;
}

.dark #noteText{
background:#222;
color:white;
}

.pinned{
border:2px solid gold;
}

#lockScreen{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:#000;
color:white;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
z-index:999;
}

table,td{
border:1px solid #000;
border-collapse:collapse;
padding:5px;
}

@media print{

body *{
visibility:hidden;
}

#printArea, #printArea *{
visibility:visible;
}

#printArea{
position:absolute;
top:0;
right:0;
width:100%;
}

}

</style>

</head>

<body>

<div id="lockScreen">

<h2>ğŸ”’ Ø£Ø¯Ø®Ù„ Ø§Ù„Ø±Ù…Ø²</h2>

<input type="password" id="passInput">

<button onclick="unlock()">ÙØªØ­</button>

<button onclick="setPass()">ØªØ¹ÙŠÙŠÙ† Ø±Ù…Ø² Ø¬Ø¯ÙŠØ¯</button>

</div>

<h2>ğŸ“’ Ù…ÙÙƒØ±ØªÙŠ Pro Offline</h2>

<button onclick="toggleDark()">ğŸŒ™ ÙˆØ¶Ø¹ Ù„ÙŠÙ„ÙŠ</button>

<input id="search" placeholder="ğŸ” Ø¨Ø­Ø«..." oninput="display()">

<br>

<input id="noteTitle" placeholder="Ø¹Ù†ÙˆØ§Ù†">

<br>

<div>

<button onclick="format('bold')"><b>B</b></button>
<button onclick="format('italic')"><i>I</i></button>
<button onclick="format('underline')"><u>U</u></button>

<button onclick="color('red')">ğŸ”´</button>
<button onclick="color('blue')">ğŸ”µ</button>

<button onclick="highlight()">ğŸŸ¡</button>

<button onclick="fontSize(5)">A+</button>

<button onclick="insertImage()">ğŸ“· ØµÙˆØ±Ø©</button>

<button onclick="insertTable()">ğŸ“Š Ø¬Ø¯ÙˆÙ„</button>

</div>

<div id="noteText" contenteditable="true"></div>

<br>

<input type="datetime-local" id="reminder">

<br>

<button onclick="save()">ğŸ’¾ Ø­ÙØ¸</button>

<button onclick="exportPDF()">ğŸ“„ PDF</button>

<button onclick="deleteAll()">ğŸ—‘ Ø­Ø°Ù Ø§Ù„ÙƒÙ„</button>

<div id="notes"></div>

<div id="printArea"></div>

<script>

/* lock */

let savedPass=localStorage.getItem("pass");

if(!savedPass){

document.getElementById("lockScreen").style.display="none";

}

function setPass(){

let p=prompt("Ø£Ø¯Ø®Ù„ Ø±Ù…Ø² Ø¬Ø¯ÙŠØ¯");

if(p){

localStorage.setItem("pass",p);

alert("ØªÙ… Ø§Ù„Ø­ÙØ¸");

}

}

function unlock(){

let p=passInput.value;

if(p===savedPass){

lockScreen.style.display="none";

}else{

alert("Ø±Ù…Ø² Ø®Ø·Ø£");

}

}

/* notes */

let notes=JSON.parse(localStorage.getItem("notes"))||[];

let editId=null;

function format(cmd){
document.execCommand(cmd,false,null);
}

function color(c){
document.execCommand("foreColor",false,c);
}

function highlight(){
document.execCommand("hiliteColor",false,"yellow");
}

function fontSize(s){
document.execCommand("fontSize",false,s);
}

/* image */

function insertImage(){

let input=document.createElement("input");

input.type="file";

input.accept="image/*";

input.onchange=function(){

let file=this.files[0];

let reader=new FileReader();

reader.onload=function(e){

document.execCommand("insertImage",false,e.target.result);

};

reader.readAsDataURL(file);

};

input.click();

}

/* table */

function insertTable(){

let rows=prompt("Ø¹Ø¯Ø¯ Ø§Ù„ØµÙÙˆÙ",2);

let cols=prompt("Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø©",2);

let html="<table>";

for(let i=0;i<rows;i++){

html+="<tr>";

for(let j=0;j<cols;j++){

html+="<td contenteditable='true'>Ø®Ø§Ù†Ø©</td>";

}

html+="</tr>";

}

html+="</table>";

document.execCommand("insertHTML",false,html);

}

/* save */

function save(){

let title=noteTitle.value;

let text=noteText.innerHTML;

let reminder=document.getElementById("reminder").value;

if(!title&&!text)return;

if(editId){

let n=notes.find(n=>n.id==editId);

n.title=title;
n.text=text;

editId=null;

}else{

notes.push({

id:Date.now(),
title,
text,
pinned:false,
reminder: reminder ? new Date(reminder).getTime():null,
notified:false

});

}

localStorage.setItem("notes",JSON.stringify(notes));

noteTitle.value="";
noteText.innerHTML="";

display();

}

/* display */

function display(){

let search=document.getElementById("search").value.toLowerCase();

let div=document.getElementById("notes");

div.innerHTML="";

let sorted=[...notes];

sorted.sort((a,b)=>b.pinned-a.pinned);

sorted.forEach(n=>{

if(n.title.toLowerCase().includes(search)||n.text.toLowerCase().includes(search)){

div.innerHTML+=`

<div class="note ${n.pinned?'pinned':''}">

<h3>${n.title}</h3>

<div>${n.text}</div>

<button onclick="edit(${n.id})">âœï¸ ØªØ¹Ø¯ÙŠÙ„</button>

<button onclick="pin(${n.id})">

${n.pinned?"ğŸ“Œ Ù…Ø«Ø¨Øª":"ğŸ“ ØªØ«Ø¨ÙŠØª"}

</button>

<button onclick="remove(${n.id})">âŒ Ø­Ø°Ù</button>

<button onclick="exportOne(${n.id})">ğŸ“„ PDF</button>

</div>

`;

}

});

}

/* edit */

function edit(id){

let n=notes.find(n=>n.id==id);

noteTitle.value=n.title;

noteText.innerHTML=n.text;

editId=id;

}

/* pin */

function pin(id){

let n=notes.find(n=>n.id==id);

n.pinned=!n.pinned;

localStorage.setItem("notes",JSON.stringify(notes));

display();

}

/* delete */

function remove(id){

notes=notes.filter(n=>n.id!=id);

localStorage.setItem("notes",JSON.stringify(notes));

display();

}

function deleteAll(){

if(confirm("Ø­Ø°Ù Ø§Ù„ÙƒÙ„ØŸ")){

notes=[];

localStorage.removeItem("notes");

display();

}

}

/* dark */

function toggleDark(){

document.body.classList.toggle("dark");

}

/* PDF */

function exportPDF(){

printArea.innerHTML=noteText.innerHTML;

window.print();

}

function exportOne(id){

let n=notes.find(n=>n.id==id);

printArea.innerHTML="<h2>"+n.title+"</h2>"+n.text;

window.print();

}

/* reminder */

function checkReminders(){

let now=Date.now();

notes.forEach(n=>{

if(n.reminder&&!n.notified&&now>=n.reminder){

alert("ğŸ”” ØªØ°ÙƒÙŠØ±: "+n.title);

n.notified=true;

localStorage.setItem("notes",JSON.stringify(notes));

}

});

}

setInterval(checkReminders,5000);

display();

</script>

</body>
</html>
